(function(t){function e(e){for(var o,r,i=e[0],c=e[1],u=e[2],m=0,d=[];m<i.length;m++)r=i[m],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,u||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],o=!0,i=1;i<s.length;i++){var c=s[i];0!==n[c]&&(o=!1)}o&&(a.splice(e--,1),t=r(r.s=s[0]))}return t}var o={},n={app:0},a=[];function r(e){if(o[e])return o[e].exports;var s=o[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=o,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(s,o,function(e){return t[e]}.bind(null,o));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/themes/crowddemocracy_vuetober/assets/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"01f7":function(t,e,s){"use strict";var o=s("ec43"),n=s.n(o);n.a},1620:function(t,e,s){},"2cd2":function(t,e,s){},"3fae":function(t,e,s){},"54d0":function(t,e,s){t.exports=s.p+"img/homepage.039f3d1e.png"},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var o=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},a=[],r={methods:{}},i=r,c=s("2877"),u=Object(c["a"])(i,n,a,!1,null,null,null),l=u.exports,m=s("5f5b"),d=(s("f9e3"),s("2dd8"),s("8c4f")),v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrap"},[o("b-container",{staticClass:"content"},[o("img",{staticClass:"background",attrs:{src:s("d68e")}}),o("b-row",{staticClass:"navbar"},[o("b-col",{staticClass:"logo"},[o("img",{staticClass:"logo",attrs:{src:s("cf05")}})]),o("b-col",{staticClass:"question"},[t._v("Ešte nemáš účet?")]),o("b-col",{staticClass:"button"},[o("b-button",{staticClass:"registration",attrs:{to:"/registration"}},[t._v("Registruj sa")])],1)],1),o("h4",{staticClass:"header"},[t._v("Ako využijete svoj hlas?")]),o("h5",{staticClass:"intro"},[t._v(" Na "),o("span",{staticClass:"intro-text"},[t._v("CROWD")]),t._v("DEMOCRACY môžete dať svoj hlas novým návrhom alebo ho odovzdať ľudom ktorým dôverujete. ")]),o("b-button",{staticClass:"login",attrs:{to:"/login"}},[t._v("Prihlásiť sa")]),o("b-row",{staticClass:"footer"},[o("b-col",{staticClass:"footer-col1"},[t._v(" ® 2020 všetky práva vyhradené "),o("span",{staticClass:"footer-logo"},[t._v("CROWD")]),t._v("DEMOCRACY ")]),o("b-col",{staticClass:"footer-col2"},[t._v("Sledujte nás na sociálnych sieťach")]),o("b-col",{staticClass:"footer-col3"})],1)],1),t._m(0)],1)},p=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("p")])}],f={created:function(){this.$store.getters.isLoggedIn&&this.$router.push("/home")}},h=f,b=(s("feaf"),Object(c["a"])(h,v,p,!1,null,"078a4f9a",null)),g=b.exports,C=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrap"},[o("img",{staticClass:"background",attrs:{src:s("d68e")}}),o("b-row",{staticClass:"navbar"},[o("b-col",{staticClass:"logo"},[o("img",{staticClass:"logo",attrs:{src:s("cf05")}})]),o("b-col",{staticClass:"question"},[t._v("Ešte nemáš účet?")]),o("b-col",{staticClass:"button"},[o("b-button",{staticClass:"login",attrs:{to:"/login"}},[t._v("Prihlás sa")])],1)],1),o("h1",{staticClass:"title"},[t._v("Registrácia")]),o("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.passes;return[o("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),s(t.register)}}},[o("ValidationProvider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"placeholder",attrs:{type:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),o("span",{staticClass:"error"},[t._v(t._s(s[0]))])]}}],null,!0)}),o("ValidationProvider",{attrs:{rules:"required|max:16"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[o("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"placeholder",attrs:{type:"text",placeholder:"Používateľské meno"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),o("span",{staticClass:"error"},[t._v(t._s(s[0]))])]}}],null,!0)}),o("ValidationProvider",{attrs:{vid:"password",rules:"required|password_verification:8,16"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"placeholder",attrs:{type:"password",placeholder:"Heslo"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),o("span",{staticClass:"error"},[t._v(t._s(s[0]))])]}}],null,!0)}),o("ValidationProvider",{attrs:{rules:"required|password_verification:8,16|confirmed:password"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[o("input",{directives:[{name:"model",rawName:"v-model",value:t.password_confirmation,expression:"password_confirmation"}],staticClass:"password",attrs:{type:"password",placeholder:"Potvrdenie hesla"},domProps:{value:t.password_confirmation},on:{input:function(e){e.target.composing||(t.password_confirmation=e.target.value)}}}),o("span",{staticClass:"error"},[t._v(t._s(s[0]))])]}}],null,!0)}),o("span",{staticClass:"error"},[t._v(t._s(t.error))]),o("b-button",{staticClass:"registration",attrs:{type:"submit"}},[t._v("Registrácia")])],1)]}}])}),o("b-row",{staticClass:"footer"},[o("b-col",{staticClass:"footer-col1"},[t._v(" ® 2020 všetky práva vyhradené "),o("span",{staticClass:"footer-logo"},[t._v("CROWD")]),t._v("DEMOCRACY ")]),o("b-col",{staticClass:"footer-col2"},[t._v("Sledujte nás na sociálnych sieťach")]),o("b-col",{staticClass:"footer-col3"},[t._v("social media")])],1)],1)},y=[],_=(s("99af"),s("4d63"),s("ac1f"),s("25f0"),s("5530")),k=s("7bb1"),A=s("4c93");Object(k["d"])("eager"),Object(k["c"])("required",Object(_["a"])(Object(_["a"])({},A["d"]),{},{message:"Pole nesmie byť prázdne!"})),Object(k["c"])("email",Object(_["a"])(Object(_["a"])({},A["b"]),{},{message:"Nesprávny formát emailu!"})),Object(k["c"])("max",Object(_["a"])(Object(_["a"])({},A["c"]),{},{message:"Užívateľské meno nesmie byť dlhšie ako 16 znakov"})),Object(k["c"])("confirmed",Object(_["a"])(Object(_["a"])({},A["a"]),{},{message:"Heslo sa musí zhodovať"})),Object(k["c"])("password_verification",{validate:function(t,e){var s=e.min,o=e.max,n=new RegExp("^(?=.*)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{".concat(s,",").concat(o,"}"));return n.test(t)},params:["min","max"],message:"Heslo musí obsahovať minimálne {min} znakov, najviac {max} znakov, obsahovať aspoň jedno veľké písmeno a jedno číslo."});var w={components:{ValidationProvider:k["b"],ValidationObserver:k["a"]},data:function(){return{email:"",username:"",password:"",password_confirmation:"",error:""}},created:function(){this.$store.getters.isLoggedIn&&this.$router.push("/home")},methods:{register:function(){var t=this,e={email:this.email,password:this.password,password_confirmation:this.password_confirmation,name:this.username};this.$store.dispatch("register",e).then((function(){return t.$router.push("/home")})).catch((function(){return t.error="Invalid credencials"}))}},watch:{}},j=w,O=(s("8b92"),Object(c["a"])(j,C,y,!1,null,"83050e14",null)),P=O.exports,S=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrap"},[o("img",{staticClass:"background",attrs:{src:s("d68e")}}),o("b-row",{staticClass:"navbar"},[o("b-col",{staticClass:"logo"},[o("img",{staticClass:"logo",attrs:{src:s("cf05")}})]),o("b-col",{staticClass:"question"},[t._v("Ešte nemáš účet?")]),o("b-col",{staticClass:"button"},[o("b-button",{staticClass:"registration",attrs:{to:"/registration"}},[t._v("Registruj sa")])],1)],1),o("h1",{staticClass:"title"},[t._v("Prihlásenie")]),o("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[o("ValidationProvider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),o("span",{staticClass:"error"},[t._v(t._s(s[0]))])]}}])}),o("ValidationProvider",{attrs:{rules:"required|password_verification:8,16"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Heslo"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),o("span",{staticClass:"error"},[t._v(t._s(s[0]))])]}}])}),t.error.length?o("span",{staticClass:"error"},[t._v("Uživateľ nebol najdeny")]):t._e(),o("b-button",{staticClass:"login",attrs:{type:"submit"}},[t._v("Prihlásiť")])],1),o("b-row",{staticClass:"footer"},[o("b-col",{staticClass:"footer-col1"},[t._v(" ® 2020 všetky práva vyhradené "),o("span",{staticClass:"footer-logo"},[t._v("CROWD")]),t._v("DEMOCRACY ")]),o("b-col",{staticClass:"footer-col2"},[t._v("Sledujte nás na sociálnych sieťach")]),o("b-col",{staticClass:"footer-col3"},[t._v("social media")])],1)],1)},I=[];Object(k["d"])("eager"),Object(k["c"])("required",Object(_["a"])(Object(_["a"])({},A["d"]),{},{message:"Pole nesmie byť prázdne!"})),Object(k["c"])("email",Object(_["a"])(Object(_["a"])({},A["b"]),{},{message:"Nesprávny formát emailu!"})),Object(k["c"])("password_verification",{validate:function(t,e){var s=e.min,o=e.max,n=new RegExp("^(?=.*)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{".concat(s,",").concat(o,"}"));return n.test(t)},params:["min","max"],message:"Heslo musí obsahovať minimálne {min} znakov, najviac {max} znakov, obsahovať aspoň jedno veľké písmeno a jedno číslo."});var x={components:{ValidationProvider:k["b"]},data:function(){return{email:"",password:"",error:""}},created:function(){this.$store.getters.isLoggedIn&&this.$router.push("/home")},methods:{login:function(){var t=this,e=this.email,s=this.password;this.$store.dispatch("login",{email:e,password:s}).then((function(){return t.$router.push("/home")})).catch((function(){t.error="Invalid credencials"}))}}},E=x,V=(s("6841"),Object(c["a"])(E,S,I,!1,null,"b389fa6e",null)),q=V.exports,L=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrap"},[o("b-row",[o("b-col",{staticClass:"col3",attrs:{cols:"3"}},[o("img",{staticClass:"logo",attrs:{src:s("cf05")}}),o("div",{staticClass:"your-com"},[o("p",{staticClass:"com-list"},[t._v("Zoznam komunít,kde si členom:")]),t._l(t.communities,(function(e){return o("div",{key:e.id,staticClass:"names"},[t.user.communities.some((function(t){return t.id===e.id}))?o("div",[o("b-row",{staticClass:"com-side",on:{click:function(s){return t.navigateToComm(e.id)}}},[o("b-col",{attrs:{cols:"1"}},[o("img",{staticClass:"com-logo-list",attrs:{src:s("67ce")}})]),o("b-col",{staticClass:"com-info"},[o("p",{staticClass:"com-count-info"},[t._v(t._s(e.user_count)+" užívateľov")]),o("p",{staticClass:"com-name-list"},[t._v(t._s(e.name))])])],1)],1):t._e()])})),o("b-button",{staticClass:"new-community-button",attrs:{to:"/create"}},[t._v("Nová komunita")])],2)]),o("b-col",{staticClass:"col"},[o("b-button",{staticClass:"logout",attrs:{variant:"danger"},on:{click:t.logout}},[t._v("Odhlásenie z aplikácie")]),o("b-row",{staticClass:"navbar"},[o("b-col",{attrs:{cols:"1"}},[o("img",{staticClass:"homepage-pic",attrs:{src:s("54d0")}})]),o("b-col",[o("h1",{staticClass:"welcome"},[t._v("Vitajte v CrowdDemocracy")]),o("p",{staticClass:"username"},[t._v("Vitaj "+t._s(t.user.name)+"!")])])],1),o("div",{staticClass:"communities"},t._l(t.communities,(function(e){return o("div",{key:e.id,staticClass:"community"},[o("div",{on:{click:function(s){return t.navigateToComm(e.id)}}},[o("img",{staticClass:"com-logo",attrs:{src:s("67ce")}}),o("p",{staticClass:"com-count"},[t._v(t._s(e.user_count)+" užívateľov")]),o("p",{staticClass:"com-name"},[t._v(t._s(e.name))]),o("p",{staticClass:"com-owner"},[t._v(t._s(e.owner))]),o("p",{staticClass:"com-desc"},[t._v(t._s(e.description))]),o("p",{staticClass:"com-create"},[t._v(t._s(e.created_at))])]),t.user.communities.some((function(t){return t.id===e.id}))?t._e():o("b-button",{staticClass:"add-to-com",on:{click:function(s){return t.joinCommunity(e.id)}}},[t._v("Pridať sa")])],1)})),0)],1)],1)],1)},D=[],T=s("bc3a"),B=s.n(T),z=s("2f62"),H={data:function(){return{communities:[]}},created:function(){this.$store.getters.isLoggedIn?(this.getCommunity(),console.log(this.user)):this.$router.push("/secure")},methods:{navigateToComm:function(t){this.$router.push({path:"/community/".concat(t)})},logout:function(){var t=this;this.$store.dispatch("logout").then((function(){t.$router.push("/")}))},refreshUser:function(){this.$store.dispatch("refresh").then((function(){})).catch((function(t){console.error(t)}))},getCommunity:function(){var t=this;B.a.get("/api/v1/communities").then((function(e){t.communities=e.data}))},joinCommunity:function(t){var e=this;this.$store.dispatch("joinCommunity",t).then((function(){e.refreshUser(),e.$router.push({path:"/community/".concat(t)})})).catch((function(t){return console.error(t)}))},leaveCommunity:function(t){var e=this;this.$store.dispatch("leaveCommunity",t).then((function(){e.refreshUser(),e.getCommunity(),console.log(e.user)})).catch((function(t){return console.error(t)}))}},computed:Object(_["a"])({},Object(z["b"])({user:"getUserData"}))},N=H,G=(s("f976"),Object(c["a"])(N,L,D,!1,null,"d6376342",null)),Q=G.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrap"},[s("h1",[t._v("This page is protected by auth")]),s("b-button",{staticClass:"link-button",attrs:{to:"/"}},[t._v("BACK TO MAIN SCREEN")])],1)},M=[],U=(s("cf9a"),{}),K=Object(c["a"])(U,Z,M,!1,null,"f2f6c9ec",null),Y=K.exports,F=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrap"},[o("b-row",[o("b-col",{staticClass:"list",attrs:{cols:"3"}},[o("img",{staticClass:"logo",attrs:{src:s("cf05")}}),o("div",{staticClass:"your-com"},[o("p",{staticClass:"com-list"},[t._v("Zoznam komunít,kde si členom:")]),t._l(t.communities,(function(e){return o("div",{key:e.id,staticClass:"names"},[t.user.communities.some((function(t){return t.id===e.id}))?o("div",[o("b-row",{staticClass:"com-side",on:{click:function(s){return t.navigateToComm(e.id)}}},[o("b-col",{attrs:{cols:"1"}},[o("img",{staticClass:"com-logo-list",attrs:{src:s("67ce")}})]),o("b-col",{staticClass:"com-info"},[o("p",{staticClass:"com-count-info"},[t._v(t._s(e.user_count)+" užívateľov")]),o("p",{staticClass:"com-name-list"},[t._v(t._s(e.name))])])],1)],1):t._e()])}))],2)]),o("b-col",{staticClass:"col"},[o("b-button",{staticClass:"logout",attrs:{variant:"danger"},on:{click:t.logout}},[t._v("Odhlásenie z aplikácie")]),o("b-row",{staticClass:"navbar"},[o("b-col",{attrs:{cols:"1"}},[o("img",{staticClass:"com-pic",attrs:{src:s("67ce")}})]),o("b-col",[o("a",{staticClass:"back-to-com",attrs:{href:"/home"}},[t._v("Späť do zoznamu komunít")]),o("h1",{staticClass:"com-name"},[t._v(t._s(t.community.name))]),t.user.communities.some((function(e){return e.id===t.community.id}))?o("b-button",{staticClass:"leave-com",attrs:{variant:"outline-secondary"},on:{click:function(e){return t.leaveCommunity(t.community.id)}}},[t._v("Opustiť komunitu")]):o("b-button",{staticClass:"leave-com",attrs:{variant:"outline-secondary"},on:{click:function(e){return t.joinCommunity(t.community.id)}}},[t._v("Pridaj sa")])],1)],1),o("b-row",{staticClass:"nav-row"},[o("b-col",[o("b-button",{staticClass:"nav-button",on:{click:t.notVoted}},[t._v("Nehlasoval som")])],1),o("b-col",[o("b-button",{staticClass:"nav-button",on:{click:t.latest}},[t._v("Najnovšie")])],1),o("b-col",[o("b-button",{staticClass:"nav-button",on:{click:t.popular}},[t._v("Populárne")])],1)],1),t.user.communities.some((function(e){return e.id===t.community.id}))?o("div",[o("div",{staticClass:"posts"},t._l(t.communityPosts,(function(e){return o("div",{key:e.id,staticClass:"post"},[o("p",{staticClass:"question"},[t._v(t._s(e.content))]),o("span",{staticClass:"voted-num"},[t._v("Zahlasovalo "+t._s(e.total_votes))]),t.user.likes.some((function(t){return t.posts_id===e.id}))?o("div",[o("b-button",{staticClass:"change-vote",on:{click:function(s){return t.changeVote(e.id)}}},[t._v("ZMENIŤ HLAS")])],1):o("div",{staticClass:"vote_buttons"},[o("b-button",{staticClass:"vote-yes",attrs:{variant:"outline-success"},on:{click:function(s){return t.addVote(e.id,"vote_yes")}}},[t._v("Áno")]),o("b-button",{staticClass:"vote-no",attrs:{variant:"outline-danger"},on:{click:function(s){return t.addVote(e.id,"vote_no")}}},[t._v("Nie")])],1)])})),0)]):o("div",[o("h4",{staticClass:"text-center mt-5"},[t._v("Pridaj sa do komunity aby si videl hlasovania")])])],1)],1)],1)},R=[],X=(s("7db0"),{props:{id:{type:String}},data:function(){return{community:{},communityPosts:[],communities:[],lastSort:"latest"}},created:function(){this.$store.getters.isLoggedIn?this.getCommunities():this.$router.push("/secure")},methods:{addVote:function(t,e){var s=this;this.$store.dispatch("vote",{vote:e,postId:t}).then((function(){s.refreshUser(),s.getPosts()})).catch((function(t){return console.error(t)}))},changeVote:function(t){var e=this;this.$store.dispatch("removeVote",t).then((function(){e.refreshUser(),e.getPosts()})).catch((function(t){return console.error(t)}))},getCommunities:function(){var t=this;B.a.get("/api/v1/communities").then((function(e){t.communities=e.data,t.getPosts(),t.getCommunityName()}))},getCommunityName:function(){var t=this;B.a.get("/api/v1/communities/".concat(this.$props.id)).then((function(e){t.community=e.data[0]}))},getPosts:function(){var t=this;B.a.get("/api/v1/posts/community_id/".concat(this.$props.id)).then((function(e){t.communityPosts=e.data.posts,"latest"===t.lastSort?t.latest():"notVoted"===t.lastSort?t.notVoted():t.popular()})).catch((function(t){return console.error(t)}))},logout:function(){var t=this;this.$store.dispatch("logout").then((function(){t.$router.push("/")}))},refreshUser:function(){this.$store.dispatch("refresh").then((function(){})).catch((function(t){console.error(t)}))},navigateToComm:function(t){var e="/community/".concat(t);this.$route.path!==e&&this.$router.push({path:e})},joinCommunity:function(t){var e=this;this.$store.dispatch("joinCommunity",t).then((function(){e.refreshUser()})).catch((function(t){return console.error(t)}))},leaveCommunity:function(t){var e=this;this.$store.dispatch("leaveCommunity",t).then((function(){e.refreshUser(),e.$router.push("/home")})).catch((function(t){return console.error(t)}))},notVoted:function(){this.lastSort="notVoted";var t=this.user;function e(e){return t.likes.find((function(t){return parseInt(t.posts_id)===parseInt(e.id)}))?1:-1}this.communityPosts.sort(e)},latest:function(){function t(t,e){var s=new Date(t.created_at),o=new Date(e.created_at);return s>o?-1:o>s?1:0}this.lastSort="latest",this.communityPosts.sort(t)},popular:function(){function t(t,e){return t.total_votes>e.total_votes?-1:e.total_votes>t.total_votes?1:0}this.lastSort="popular",this.communityPosts.sort(t)}},computed:Object(_["a"])({},Object(z["b"])({user:"getUserData"})),beforeRouteUpdate:function(t,e,s){this.getCommunities(),s()}}),$=X,W=(s("01f7"),Object(c["a"])($,F,R,!1,null,"13e01caa",null)),J=W.exports,tt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrap"},[o("b-row",[o("b-col",{attrs:{cols:"11"}},[o("p",{staticClass:"title"},[t._v("Vytvor si komunitu")])]),o("b-col",{attrs:{cols:"1"}},[o("b-button",{staticClass:"back-button",attrs:{to:"/home"}},[t._v("Späť")])],1)],1),o("b-row",[o("b-col",[o("div",{staticClass:"inputs"},[o("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.passes;return[o("form",{on:{submit:function(e){return e.preventDefault(),s(t.createCommunity)}}},[o("p",{staticClass:"new-community-name",attrs:{for:"meno"}},[t._v("Meno komunity")]),o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[o("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"meno",autocomplete:"off"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),o("span",{staticClass:"error"},[t._v(t._s(s[0]))])]}}],null,!0)}),o("p",{staticClass:"new-community-info",attrs:{for:"opis"}},[t._v("Opis komunity (max 100 znakov)")]),o("ValidationProvider",{attrs:{rules:"required|max:100"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.desc,expression:"desc"}],attrs:{type:"text",name:"opis"},domProps:{value:t.desc},on:{input:function(e){e.target.composing||(t.desc=e.target.value)}}}),t._v(" "),o("span",{staticClass:"error"},[t._v(t._s(s[0]))])]}}],null,!0)}),o("span",t._b({staticClass:"error"},"span",t.error,!1),[t._v(t._s(t.error))]),o("b-button",{attrs:{variant:"success",type:"submit"}},[t._v("Vytvoriť")]),o("b-button",{attrs:{to:"/manage"}},[t._v("Pozrieť moje komunity")])],1)]}}])})],1)]),o("b-col",[o("img",{staticClass:"background",attrs:{src:s("d68e")}})])],1)],1)},et=[];s("b0c0");Object(k["d"])("eager"),Object(k["c"])("required",Object(_["a"])(Object(_["a"])({},A["d"]),{},{message:"Pole nesmie byť prázdne!"})),Object(k["c"])("max",Object(_["a"])(Object(_["a"])({},A["c"]),{},{message:"Užívateľské meno nesmie byť dlhšie ako 100 znakov"}));var st={components:{ValidationProvider:k["b"],ValidationObserver:k["a"]},data:function(){return{name:"",desc:"",error:""}},methods:{createCommunity:function(){var t=this,e={name:this.name,desc:this.desc};this.$store.dispatch("createCommunity",e).then((function(){return t.$router.push("/manage")})).catch((function(){return t.error="Nepodarilo sa vytvorit komunitu"}))}}},ot=st,nt=(s("6780"),Object(c["a"])(ot,tt,et,!1,null,"25569190",null)),at=nt.exports,rt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrap"},[o("b-row",[o("b-col",{attrs:{cols:"11"}},[o("p",{staticClass:"title"},[t._v("Tvoje komunity")])]),o("b-col",{attrs:{cols:"1"}},[o("b-button",{staticClass:"back-button",attrs:{to:"/create",variant:"danger"}},[t._v("Späť")])],1)],1),o("b-row",[o("b-col",{staticClass:"communities"},t._l(t.communities,(function(e){return o("div",{key:e.id,staticClass:"community",on:{click:function(s){return t.navigateToComm(e.id)}}},[o("h4",[t._v(t._s(e.name))])])})),0),o("b-col",[o("img",{staticClass:"background",attrs:{src:s("d68e")}})])],1)],1)},it=[],ct={data:function(){return{communities:[]}},created:function(){this.$store.getters.isLoggedIn?this.getCommunity():this.$router.push("/secure")},methods:{getCommunity:function(){var t=this;B.a.get("/api/v1/communities").then((function(e){t.communities=e.data}))},navigateToComm:function(t){this.$router.push({path:"/manage_posts/".concat(t)})}}},ut=ct,lt=(s("b5d8"),Object(c["a"])(ut,rt,it,!1,null,"0ff5ae54",null)),mt=lt.exports,dt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrap"},[o("b-row",[o("b-col",{attrs:{cols:"11"}},[o("h1",t._b({staticClass:"title"},"h1",t.community,!1),[t._v("Príspevky v "+t._s(t.community.name))])]),o("b-col",{attrs:{cols:"1"}},[o("b-button",{staticClass:"back-button",attrs:{to:"/manage",variant:"danger"}},[t._v("Späť")])],1)],1),o("b-row",[o("b-col",{staticClass:"posts"},[o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],staticClass:"new-post",attrs:{variant:"outline-success"}},[t._v("Nový príspevok")]),t._l(t.communityPosts,(function(e){return o("div",{key:e.id,staticClass:"post"},[o("h5",{staticClass:"post-content"},[t._v(t._s(e.content))]),o("p",{staticClass:"yes"},[t._v("Áno: "+t._s(e.vote_yes))]),o("p",{staticClass:"no"},[t._v("Nie: "+t._s(e.vote_no))]),o("b-button",{staticClass:"delete-button",attrs:{variant:"danger"}},[t._v("Vymazať")])],1)}))],2),o("b-col",[o("img",{staticClass:"background",attrs:{src:s("d68e")}})])],1),o("div",[o("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing",title:"Nový príspevok","ok-only":"","ok-title":"Pridať"},on:{show:t.resetModal,hidden:t.resetModal,ok:t.handleOk}},[o("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[o("b-form-group",{attrs:{state:t.nameState,label:"Príspevok:","label-for":"name-input","invalid-feedback":"Pole nesmie byť prázdne"}},[o("b-form-input",{attrs:{id:"name-input",required:"",state:t.nameState},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1)])],1)],1)},vt=[],pt={props:{id:{type:String}},data:function(){return{community:{},communityPosts:[],content:"",nameState:null}},created:function(){this.$store.getters.isLoggedIn?(this.getCommunity(),this.getPosts()):this.$router.push("/secure")},methods:{getCommunity:function(){var t=this;B.a.get("/api/v1/communities/".concat(this.$props.id)).then((function(e){t.community=e.data[0]}))},getPosts:function(){var t=this;B.a.get("/api/v1/posts/community_id/".concat(this.$props.id)).then((function(e){t.communityPosts=e.data.posts.reverse()})).catch((function(t){return console.error(t)}))},createPost:function(){var t=this,e={content:this.content,communityId:this.$props.id};this.$store.dispatch("createPost",e).then((function(){t.getPosts()})).catch((function(){return t.error="Nepodarilo sa vytvoriť príspevok"}))},checkFormValidity:function(){var t=this.$refs.form.checkValidity();return this.nameState=t,t},resetModal:function(){this.name="",this.nameState=null},handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(){var t=this;this.checkFormValidity()&&(this.createPost(),this.$nextTick((function(){t.$bvModal.hide("modal-prevent-closing")})))}}},ft=pt,ht=(s("86dc"),Object(c["a"])(ft,dt,vt,!1,null,"4961073c",null)),bt=ht.exports;o["default"].use(d["a"]);var gt=[{path:"/",name:"Intro",component:g},{path:"/registration",name:"Registration",component:P},{path:"/login",name:"Login",component:q},{path:"/home",name:"Home",component:Q},{path:"/community/:id",name:"Community",component:J,props:!0},{path:"/secure",name:"secure",component:Y,meta:{requiresAuth:!0}},{path:"/create",name:"Create",component:at},{path:"/manage",name:"Manage",component:mt},{path:"/manage_posts/:id",name:"Manage_post",component:bt,props:!0}],Ct=new d["a"]({mode:"history",routes:gt}),yt=Ct,_t=(s("d3b7"),s("0e44"));o["default"].use(z["a"]);var kt=new z["a"].Store({state:{token:localStorage.getItem("token")||"",status:"",user:{}},mutations:{auth_request:function(t){t.status="loading"},auth_success:function(t,e){var s=e.token,o=e.user;t.status="success",t.token=s,t.user=o},auth_error:function(t){t.status="error"},logout:function(t){t.status="",t.token=""},refresh:function(t,e){t.user=e},refresh_error:function(t){t.status="refresh error"}},actions:{login:function(t,e){var s=t.commit;return new Promise((function(t,o){s("auth_request"),B()({url:"/api/login",data:e,method:"POST"}).then((function(e){var o=e.data.token,n=e.data.user;localStorage.setItem("token",o),B.a.defaults.headers.common["Authorization"]=o,s("auth_success",{token:o,user:n}),t(e)})).catch((function(t){s("auth_error"),localStorage.removeItem("token"),o(t)}))}))},register:function(t,e){var s=t.commit;return new Promise((function(t,o){s("auth_request"),B()({url:"/api/signup",data:e,method:"POST"}).then((function(e){var o=e.data.token,n=e.data.user;localStorage.setItem("token",o),B.a.defaults.headers.common["Authorization"]=o,s("auth_success",{token:o,user:n}),t(e)})).catch((function(t){s("auth_error",t),localStorage.removeItem("token"),o(t)}))}))},logout:function(t){var e=t.commit;return new Promise((function(t,s){e("logout"),localStorage.removeItem("token"),delete B.a.defaults.headers.common["Authorization"],t()}))},refresh:function(t){var e=this,s=t.commit;return new Promise((function(t,o){B()({url:"/api/token_refresh",data:{token:e.state.token},method:"POST"}).then((function(e){var o=e.data.user;s("refresh",o),t(e)})).catch((function(t){s("refresh_error"),o(t)}))}))},vote:function(t,e){var s=this;t.commit;console.log(e);var o="/api/v1/likes/".concat(e.vote,"/").concat(e.postId);return new Promise((function(t,e){B()({url:o,data:{token:s.state.token},method:"POST"}).then((function(e){return t(e)})).catch((function(t){return e(t)}))}))},removeVote:function(t,e){var s=this,o=(t.commit,"/api/v1/likes/remove_vote/".concat(e));return new Promise((function(t,e){B()({url:o,data:{token:s.state.token},method:"POST"}).then((function(e){return t(e)})).catch((function(t){return e(t)}))}))},joinCommunity:function(t,e){var s=this,o=(t.commit,"/api/v1/communities/join/".concat(e));return console.log(o),new Promise((function(t,e){B()({url:o,data:{token:s.state.token},method:"POST"}).then((function(e){return t(e)})).catch((function(t){return e(t)}))}))},leaveCommunity:function(t,e){var s=this,o=(t.commit,"/api/v1/communities/leave/".concat(e));return new Promise((function(t,e){B()({url:o,data:{token:s.state.token},method:"POST"}).then((function(e){return t(e)})).catch((function(t){return e(t)}))}))},createCommunity:function(t,e){var s=this;t.commit;return new Promise((function(t,o){B()({url:"/api/v1/communities/create",data:{token:s.state.token,name:e.name,description:e.desc},method:"POST"}).then((function(e){t(e)})).catch((function(t){return o(t)}))}))},createPost:function(t,e){var s=this;t.commit;return new Promise((function(t,o){B()({url:"/api/v1/posts/create",data:{token:s.state.token,content:e.content,community_id:e.communityId},method:"POST"}).then((function(e){t(e)})).catch((function(t){return o(t)}))}))}},modules:{},plugins:[Object(_t["a"])()],getters:{isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status},getUserData:function(t){return t.user}}});o["default"].use(m["a"]),o["default"].config.productionTip=!1,new o["default"]({router:yt,store:kt,render:function(t){return t(l)}}).$mount("#app")},"5b94":function(t,e,s){},6780:function(t,e,s){"use strict";var o=s("2cd2"),n=s.n(o);n.a},"67ce":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAAEH5aXCAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAZKADAAQAAAABAAAAZAAAAAAMc/x7AAALiElEQVR4Ae1dS2wkRxmu7vFjbI/HG792/LZ3vZ7NHvYEEhwjIYFyQOKSC7A5ZjcSBzghIVAUhMQJDkDiHLOIHHJBQgKBhAQ3IiEOgBRir9drj71+vz22x4+Z5v/ark7P9Ps1XTPpksZVrqq//v/7/67u6uq/qiR2Ew7f+lDhaas4JUnfyMw++ouECm4I9A1JXglALOtbcJs2Jfrf/JxGP7+woKV5wiDep3Of8bKq+EH+vva/KSet9CYhSaq+tGwDkb5FXuvVmTxPqrGBCLl6Qn2aU7bwRG1sVpnXMeXEC61iGZeGVaFVvufLqOeDN691efj4t79hSuVtq5bVfEkq9sw+6jYY1paICj0rIDhBuVxmFxeXqmQbW1sGCQ2GnFt4VlVpb3+v6moILtKdyckqDrWXjIFDuj3NRodHVKLaysg0ECAz291dJTfyeDAl4IVmsWcCzxegSlB88tHDcuXy32YiBM1Tr3BXV3dATrJj9wnIAOSeDeKHp6Fv1DaCvoIOpg+4QGtv8DN3p1lLi3lzjkhqGYBZLQPkzT83PnqQj+DI5P69meuaDn/Nuh8nMcfHSymWZVntkqenp2xppaAruU7aNc4rOzLhFTs7O1Vmewf7bGNz0/JewOvrY9dMOFHvrVcYfl6CzOgx4oXAT13P9yHfTECovPNx2/F66b8KU9xdTjbcaGzz9+zso9d4lUiRSExazX7waIye6E/JJkoX5xp2nEp1DFFnjI4BBC6Xz9Yde3wYyBImnrToSl1LhWX2olAwNPzZs3l2cHRoyK/NcByU1j478tMzDEzPL86r2rK7G9veIAurK1UN4Z+5hXlDnlOGrbpKpWppnRqzKrdlcndqyorOU74tk1Qq5aqx9vZ223q2TEBpZ1CUQ5C7k/aIHZnYMcLran76HqrYBldM0IIBET0kal9vrTi5ZlLL6MHM52/pVo3zfNt+wivpYwMifaFF2hMSizYcsxMmjirSV6DBnfxTfUbYabzOyT2z3/0J9alPwm4c7WGkglgddyGBoHzvT+1HFzu7UY9grrkF/EsWgIJ4KyqQawDbJZ7ZSDEsnZ1986sShtlH62fhPADj0oAkHcl4V4iLf2h8FSUrh/HCE5pAARqqy10+gHyuSRMgrlVVp4qeh0Jmci0sLrKLywtDEUaWtQO/ze0ttru3Z6iLjOmpO6ytrc20zCnT8QXLroGLy0u2sPjcropWlunqYsWTE+1/u0Tdx42LSy/s5KkqcwuiisjDP4E6e7Y764FVtFUDARnO5Ui6quFaYGnvTEz6aiNwZ3+Qz9Nnqwu28GLRlwCcCLPumH33GwIDAWPcadBBz0pn7MXysidZMGfudnLeruFQgHAGHekOFVDxpMgKq6s82zQ2uzWbVnSZGSoQzjPTlVEBHdIE28v1dZ6txX5urxqxRSISIJxXT7aH4YcHIB6EUQDgvCIFwpn09fYy/KIMgW6/UQrmte3mAYKvQF7Ri1hffSz7cVMSCowkva+NL47eerpCr72jQgnoQhjMa2Xee2NDA8Jpim9/nCtXSnOMXuh5nnAxWYA8j6q8kwxAIHTx8dOvVxj7ITnefYkAZUQAQh9Z5xVJ+ms21/596Z03DG9xVUDIU+VdciT5sQiC28sgnWTb+vukX72uzcdpQBqxj6RaUw8zv/6OOi+nPkeOHn/4j0bs6OXL8n8w3QvryejcisK+Ym9KcUuvJ90JiHqHEldOF5IpXZi/Ji8xgW+zLmCgytHG+S+bYqwlKcrXmgIIJuKbAggurwQItCBSSCwikjUgS2IR0SwS2nTQ7t4+29nbUfH1vtLLBvr6LLGenZ2ydfLyPaelDl2dHepyAUydBgmBPvSAcen8nFl9J8kNDjKA4kGh0al+IRHPR5wmz687k1P6LE/pQGq4vLqyBAEpsKiE+yteUV0rEKgLhcyZrJBCmZsQ6NJ6ZuMfz5njMiq8XGXForNndrl8Rd8iL1lbaysndx0HsohbLm5A8LY2Njd40lNcFyBeJDo9O/NSXasrHBBZ8ieSPypND+EnMhl/s0+BgOCrU9jh9sCAryYDAZkan/DF1JpIUh19rcutSwIBSafTrL3N3oXZmrWx5P49Z0diI9V1TiAgaAKO4S2pQI8jVRL4oQQZpgQGAilmpqd9XxKgx9DErzMN6BFCAYKG4F+e8jHwmxqfVMdZaCNICA0IhMjTqjwvl8fE+Djr6EgHkV+jDRUIWoUXg5vb8vjoKOvq6NQECZoIHQgEunY2s37GjI4MMzgVhBkiAQIB4Wxj5jk0khtm2Uz4H8MiA/I5GKSuQ+52jvX0hA8CrUcKBAy428Zg/wCtL72FrEhC8CeZC7E4GBdVfVeJ3CK+JfNImADxqLDIqycWiVzFHhk0i0WOmwIIje3+1RRACMTPsTnD+x4vR+GqY0MtWiNY7S4knJROAt0spFQvLb4o0YlGtHLsL8HXIqpA4IHWaGBoSu0TbJLBlWt4+zl8/PQ9cut4wisIF9Oaw5SczkP5etkMQPSFSN+4BmIp6bebwW+lFl9d/iflE5/fkQHerTVALX9Tg8AIlcrZ7xvZjasWqEj/o3vLcse3zIxTZRDVEOXSPxvRKVAkhbuVBQ8POZX+st4w2kALfrLY7ycxhlt1Bq8HXUPnqo/yTXNqDxH+ARgcu/gt3LjIS3CBLyvKn8WXuPklxB6uMtYjND/UxkAIW9CuFbQ4JAlCaAC2gE98uJ+MhIDWoEKQLbRRVoNCaDqxE4MIZtLEIIlBBNOAYOIkPSQxiGAaEEycpIcIZpC6eAO5wVypKGxrZ4vtHxzSqxG9s1oGic77yLDB/kHyRHW3HAMLBTa3txmWfNiFVEpWF+r09/a5cl+0a8tvWewGOSuVaKOnAu0sb2cEPTyFHR0fqz/k4jCWkaEhUmB1Zy9Xymxl9SU7dTCCvmXIsL2zo/5S5IM9OTbGnPbG1tOHkY7VICu0QOnYxQIlO6DcOJ3kaDtBCqQpbdoEvsBKZOggAYuintPWgN206GNspH6bw8RmkO3dncDG0CscPcFuCZ2+rpc0LhjIOtDX74XMd93qfu67Ge+EBwcH3olioqinrLEZ5KrmgKSYdO2KbT1ljc0gWE7cKKGessZmEP06cNENU09ZYzNITzZLu2d2i24LVUbIWq8Qm0EAcGRohN3qiW4NTFAlQjbIWM8Q27CXg8Sm0/39fWxpucCurq6PGeVlccXY83mSlk372ZghqMyxGwQA2lpaadPru+qJXkuFFXprvwqKyxd9XG/nemGFMAgXCOvf87TaGm/ZyytkGJr+qEdIySk2Tm/5HbQGP+4glEG4MrA5QZ42FMBk4PLKKqvYTjZyKu+xLEtsYpQMEeL6Zu9SVFMIaRAuIhR1f2aGndCRsdhp3n4WmFM5x5iIHBsdYZnOyI76dBbCoobQBuEyd9Hxuq+SYTCvtLr2kgxDHkw+AnYEwNnemDAUNTSEQbjyoEjsTnB4fERHGazRSW28xCmW2MjwEOsR6DwUK4kbyiAcBBSL38HhAVvbqFqAxKtoMYbVIr/raILeJBrSIBwEFI3f3v6eupsdz0ecG7xNX/+8Heytp48r3dAG4UrDXBN++G6B/UnsNoDkNKLGTWEQrtx6fUTi/KKIY53LigJQo7eZGEQwCyYGSQwimAYEEyfpIaIZBGcMCSbTF1Yc2ELGgU9fWA0IBhy2kHH6FvlhYi+OJMSpAbIBbCHjKDTsSkNvuO7Oeo5T6KblLZ3ABrCF+lDHXhvqsW60KUrTYhYUmLrPFB2px/c7qdp8BjIXn3z0sFK5+mOy50m0FlQ3nmmVX+fHAXJuBoPwAhy3d3S5+yP6GvQD+vAg3qc1LmhDxfRYkKRfZFv7fqY/ZFIPwdIg+kpI4+S9k43Sa2UmfVNiygP6ODSsSGyYDCbu57daEPX4X5KKksLWaNJ5TWHSpymm/KErl/6b2bGlZuL8H4PaFQP5r5+4AAAAAElFTkSuQmCC"},6841:function(t,e,s){"use strict";var o=s("3fae"),n=s.n(o);n.a},"72f2":function(t,e,s){},"86dc":function(t,e,s){"use strict";var o=s("5b94"),n=s.n(o);n.a},"8b92":function(t,e,s){"use strict";var o=s("1620"),n=s.n(o);n.a},"9dc6":function(t,e,s){},b5d8:function(t,e,s){"use strict";var o=s("72f2"),n=s.n(o);n.a},cf05:function(t,e,s){t.exports=s.p+"img/logo.3393a2d8.png"},cf9a:function(t,e,s){"use strict";var o=s("9dc6"),n=s.n(o);n.a},d68e:function(t,e,s){t.exports=s.p+"img/bg.8750f33c.png"},dd7e:function(t,e,s){},ec43:function(t,e,s){},f23f:function(t,e,s){},f976:function(t,e,s){"use strict";var o=s("f23f"),n=s.n(o);n.a},feaf:function(t,e,s){"use strict";var o=s("dd7e"),n=s.n(o);n.a}});
//# sourceMappingURL=app.eb4a3144.js.map